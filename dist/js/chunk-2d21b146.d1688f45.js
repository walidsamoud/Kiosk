(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21b146"],{bdf4:function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div")},n=[],o=s("5530"),r=(s("d3b7"),s("2f62")),a={name:"Login",data:function(){return{msg:"Login",key:"",secret:"",requestFailed:!1,errors:[]}},methods:Object(o["a"])(Object(o["a"])({checkForm:function(t){if(this.errors=[],this.key&&this.secret?this.handleSubmit():this.errors.push(this.$t("Errors.Required",{field:this.$t("Kiosk.App.Key")})),!this.errors.length)return!0;t.preventDefault()},validEmail:function(t){var i=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/;return i.test(t)},submit:function(){this.validEmail(this.key)?this.handleSubmit():this.errors.push(this.$t("Errors.Invalid",{field:this.$t("Auth.Email")}))}},Object(r["a"])("Kiosk",["login","autoLogin","logout"])),{},{handleSubmit:function(){this.requestFailed=!1,this.submitted=!0;var t=this.key,i=this.secret;t&&i&&(this.$vs.loading({container:"#login-box",scale:.6}),this.login({key:t,secret:i}).catch(function(t){this.errors.push(this.$t("Errors.LoginFail")),this.requestFailed=!0}.bind(this)).catch(function(t){console.log(t)}.bind(this)).finally(function(){this.$vs.loading.close("#login-box > .con-vs-loading")}.bind(this)))}}),computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(r["b"])("Kiosk",["status"])),Object(r["b"])({kiosk_info:function(t){return t.Kiosk.kiosk}})),{},{inputValid:function(){return!(this.key&&this.secret&&!this.requestFailed)}}),created:function(){this.kiosk_info&&this.$router.push("/checkin")},mounted:function(){this.$route.params.key&&this.$route.params.token&&(console.log({key:this.$route.params.key,token:this.$route.params.token}),this.$vs.loading({container:"#login-box",scale:.6}),this.autoLogin({key:this.$route.params.key,token:this.$route.params.token}).catch(function(t){this.errors.push(this.$t("Errors.LoginFail")),this.requestFailed=!0}.bind(this)).catch(function(t){console.log(t)}.bind(this)).finally(function(){this.$vs.loading.close("#login-box > .con-vs-loading")}.bind(this)))},components:{}},h=a,c=s("2877"),u=Object(c["a"])(h,e,n,!1,null,null,null);i["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d21b146.d1688f45.js.map