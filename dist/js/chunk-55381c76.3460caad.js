(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55381c76"],{"3fed":function(t,e,n){t.exports=n.p+"img/1.f33d9178.jpg"},5276:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("vs-card",{staticClass:"mb-0 full-height login-box",attrs:{id:"checkin-box",fixedHeight:""}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("h3",{staticClass:"mb-1"},[t._v(t._s(t.kiosk_info.business.name)+"\n                "),i("div",{staticClass:"float-right"},[i("LanguageSelector")],1)])]),i("div",{staticClass:"p-5"},[1==t.step?i("div",{attrs:{id:"step_1"}},[i("h2",{staticClass:"font-weight-light text-light text-uppercase mt-5"},[t._v(t._s(t.$t("Kiosk.App.EnterPhone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.phone_number,expression:"phone_number"}],ref:"phone",staticClass:"w-100 mb-4 mt-4 kiosk-input vs-input-large",class:t.errors.phone?"kiosk-input-error":"",attrs:{placeholder:t.phoneNumberMask,type:"phone"},domProps:{value:t.phone_number},on:{focus:function(e){return t.showKeyboardNumerical("phone")},input:function(e){e.target.composing||(t.phone_number=e.target.value)}}}),1==t.kiosk_info.kiosk.require_internal_id?i("h2",{staticClass:"font-weight-light text-light text-uppercase mt-4"},[t._v(t._s(t.$t("Kiosk.App.EnterInternalId")))]):t._e(),1==t.kiosk_info.kiosk.require_internal_id?i("input",{directives:[{name:"model",rawName:"v-model",value:t.internal_id,expression:"internal_id"}],ref:"internal_id",staticClass:"w-100 mb-4 mt-4 kiosk-input vs-input-large",class:t.errors.internal_id?"kiosk-input-error":"",attrs:{placeholder:"IID/001",type:"text"},domProps:{value:t.internal_id},on:{focus:function(e){return t.showKeyboardAlphaNumerical("internal_id")},input:function(e){e.target.composing||(t.internal_id=e.target.value)}}}):t._e()]):t._e(),2==t.step?i("div",{attrs:{id:"step_2"}},[i("h1",{staticClass:"font-weight-light text-light text-uppercase mt-4"},[t._v(t._s(t.$t("Kiosk.App.MoreDetailsText")))]),i("vs-row",[i("vs-col",{attrs:{"vs-w":"6"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.fname,expression:"fname"}],staticClass:"w-100 mb-4 mt-4 kiosk-input vs-input-large",attrs:{placeholder:t.$t("Kiosk.App.FirstNamePlaceholder"),type:"text"},domProps:{value:t.fname},on:{focus:function(e){return t.showKeyboardAlphaNumerical("fname")},input:function(e){e.target.composing||(t.fname=e.target.value)}}})]),i("vs-col",{attrs:{"vs-w":"6"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.lname,expression:"lname"}],staticClass:"w-100 mb-4 mt-4 kiosk-input vs-input-large",attrs:{placeholder:t.$t("Kiosk.App.LastNamePlaceholder"),type:"text"},domProps:{value:t.lname},on:{focus:function(e){return t.showKeyboardAlphaNumerical("lname")},input:function(e){e.target.composing||(t.lname=e.target.value)}}})]),i("vs-col",{attrs:{"vs-w":"12"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"w-100 mb-4 mt-4 kiosk-input vs-input-large",attrs:{placeholder:t.$t("Kiosk.App.EmailPlaceholder"),type:"email"},domProps:{value:t.email},on:{focus:function(e){return t.showKeyboardAlphaNumerical("email")},input:function(e){e.target.composing||(t.email=e.target.value)}}})])],1)],1):t._e(),3==t.step?i("div",{attrs:{id:"step_3"}},[t.customer.fname?i("h2",{staticClass:"font-weight-light text-light text-uppercase mt-4"},[t._v(t._s(t.$t("Kiosk.App.HelloCustomer",{customer:t.customer.fname+" "+t.customer.lname})))]):t._e(),i("h3",{staticClass:"font-weight-light text-light text-uppercase mt-1"},[t._v(t._s(t.$t("Kiosk.App.ChooseWaitingList")))]),i("vs-row",{staticClass:"mt-5"},t._l(t.queues,(function(e,n){return i("vs-col",{key:"queue_"+n,staticClass:"mt-4",attrs:{"vs-w":"12"}},[i("vs-radio",{staticClass:"selector-checkbox-sm",attrs:{"vs-value":e},model:{value:t.selectedQueue,callback:function(e){t.selectedQueue=e},expression:"selectedQueue"}},[t._v("\n                            "+t._s(e.queue.title)+"\n                            "),i("span",{staticClass:"float-right"},[t._v("\n                            | "),i("i",{staticClass:"mdi mdi-clock"}),t._v(" "+t._s(t.waitingTimeFormated(e.waiting_time))+"\n                            | "),i("i",{staticClass:"mdi mdi-account-multiple"}),t._v(" "+t._s(e.totalWaiting)+"\n                        ")])])],1)})),1)],1):t._e(),4==t.step?i("div",{attrs:{id:"step_4"}},[t.customer.fname?i("h2",{staticClass:"font-weight-light text-light text-uppercase mt-4"},[t._v(t._s(t.$t("Kiosk.App.HelloCustomer",{customer:t.customer.fname+" "+t.customer.lname}))+"!")]):t._e(),i("h3",{staticClass:"font-weight-light text-light text-uppercase mt-1"},[t._v(t._s(t.$t("Kiosk.App.SelectServices")))]),i("vs-row",{staticClass:"mt-5",attrs:{"vs-type":"flex"}},t._l(t.selectedQueue.services,(function(e,n){return i("div",{key:"service_"+n,staticClass:"d-flex mt-4"},[i("vs-checkbox",{staticClass:"selector-checkbox-sm",attrs:{"vs-value":e},model:{value:t.selectedServices,callback:function(e){t.selectedServices=e},expression:"selectedServices"}},[t._v("\n                            "+t._s(e.title)+"\n                        ")])],1)})),0)],1):t._e(),5==t.step?i("div",{attrs:{id:"step_5"}},[t.customer.fname?i("h2",{staticClass:"font-weight-light text-light text-uppercase mt-4"},[t._v(t._s(t.$t("Kiosk.App.HelloCustomer",{customer:t.customer.fname+" "+t.customer.lname}))+"!")]):t._e(),i("h3",{staticClass:"font-weight-light text-light text-uppercase mt-1"},[t._v(t._s(t.$t("Kiosk.App.SelectEmployee")))]),i("vs-row",{staticClass:"mt-3",attrs:{"vs-type":"flex"}},t._l(t.selectedQueue.queue.members,(function(e,s){return i("div",{key:"member_"+s,staticClass:"d-flex mt-4",staticStyle:{position:"relative"}},[i("vs-radio",{class:t.selectedMember==e?"employee-radio employee-active":"employee-radio",attrs:{"vs-value":e},model:{value:t.selectedMember,callback:function(e){t.selectedMember=e},expression:"selectedMember"}},[i("div",{staticClass:"text-center"},[i("img",{staticStyle:{width:"100%",height:"150px"},attrs:{src:e.photo?e.photo:n("3fed")}}),i("p",{staticClass:"mb-0 p-3"},[t._v("\n                                    "+t._s(e.fname)+" "+t._s(e.lname)+"\n                                ")])])]),t.selectedMember==e?i("div",{staticClass:"employee-unselect-button",on:{click:t.unselectMember}},[i("i",{staticClass:"mdi mdi-close"})]):t._e()],1)})),0)],1):t._e(),6==t.step?i("div",{attrs:{id:"step_6"}},[i("h2",{staticClass:"font-weight-light text-light text-uppercase mt-4"},[t._v(t._s(t.$t("Kiosk.App.AlmostDone")))]),i("h3",{staticClass:"font-weight-light text-light text-uppercase mt-1"},[t._v(t._s(t.$t("Kiosk.App.VerifyData")))]),i("vs-row",{staticClass:"mt-4 border border-light p-4"},[t.customer.fname?i("vs-col",{attrs:{"vs-w":"12"}},[i("h4",{staticClass:"text-light"},[t._v(t._s(t.$t("Kiosk.App.FullName"))+": "),i("span",{staticClass:"font-weight-light"},[t._v(t._s(t.customer.fname)+" "+t._s(t.customer.lname))])])]):t._e(),i("vs-col",{staticClass:"mt-4",attrs:{"vs-w":"12"}},[i("h4",{staticClass:"text-light"},[t._v(t._s(t.$t("Kiosk.App.PhoneNumber"))+": "),i("span",{staticClass:"font-weight-light"},[t._v(t._s(t.phone_number))])])]),i("vs-col",{staticClass:"mt-4",attrs:{"vs-w":"12"}},[i("h4",{staticClass:"text-light"},[t._v(t._s(t.$t("Kiosk.App.WaitingList"))+": "),i("span",{staticClass:"font-weight-light"},[t._v(t._s(t.selectedQueue.queue.title))])])]),i("vs-col",{staticClass:"mt-4",attrs:{"vs-w":"12"}},[i("h4",{staticClass:"text-light"},[t._v(t._s(t.$t("Kiosk.App.SelectedServices"))+": "),i("span",{staticClass:"font-weight-light"},[t._v(t._s(t.selectedServicesNames))])])]),t.selectedMember?i("vs-col",{staticClass:"mt-4",attrs:{"vs-w":"12"}},[i("h4",{staticClass:"text-light"},[t._v(t._s(t.$t("Kiosk.App.SelectedMember"))+": "),i("span",{staticClass:"font-weight-light"},[t._v(t._s(t.selectedMember.fname)+" "+t._s(t.selectedMember.lname))])])]):t._e(),t.errors.push?i("vs-col",{staticClass:"mt-4 p-2 text-light error-message",attrs:{"vs-w":"12"}},[i("h4",[t._v(t._s(t.$t("Kiosk.App.PushError")))])]):t._e(),i("vs-col",{staticClass:"mt-4",attrs:{"vs-w":"12"}},[i("button",{staticClass:"btn btn-lg btn-light mt-2 w-100 footer-button",on:{click:t.joinQueue}},[t._v("\n                            "+t._s(t.$t("Kiosk.App.ConfirmButton"))+"\n                        ")])])],1)],1):t._e(),7==t.step?i("div",{attrs:{id:"step_7"}},[i("h2",{staticClass:"font-weight-light text-light text-uppercase mt-4"},[t._v(t._s(t.$t("Kiosk.App.AllDone")))]),i("h3",{staticClass:"font-weight-light text-light text-uppercase mt-1"},[t._v("\n                    "+t._s(t.$t("Kiosk.App.TicketSentText"))+"\n                ")]),i("vs-row",{staticClass:"mt-4"},[i("vs-col",{staticClass:"mt-4",attrs:{"vs-w":"12"}},[i("button",{staticClass:"btn btn-lg btn-light mt-2 w-100 footer-button",on:{click:t.startAgain}},[t._v("\n                            "+t._s(t.$t("Kiosk.App.StartAgainButton"))+"\n                        ")])])],1)],1):t._e(),8==t.step?i("div",{attrs:{id:"step_8"}},[i("h2",{staticClass:"font-weight-light text-light text-uppercase mt-4"},[t._v(t._s(t.$t("Kiosk.App.RequestAssistanceTitle")))]),i("h3",{staticClass:"font-weight-light text-light text-uppercase mt-1"},[t._v(t._s(t.$t("Kiosk.App.RequestAssistanceText")))]),i("vs-row",{staticClass:"mt-4"},[i("vs-col",{staticClass:"mt-4",attrs:{"vs-w":"12"}},[i("button",{staticClass:"btn btn-lg btn-light mt-2 w-100 footer-button",on:{click:t.startAgain}},[t._v("\n                            "+t._s(t.$t("Kiosk.App.StartAgainButton"))+"\n                        ")])])],1)],1):t._e()]),i("div",{staticClass:"p-2",attrs:{slot:"footer"},slot:"footer"},[t.step<6?i("button",{staticClass:"btn btn-lg btn-outline-light mb-2 float-right footer-button",on:{click:t.goToNextStep}},[t._v("\n                "+t._s(t.$t("Kiosk.App.ContinueButton"))+"\n            ")]):t._e(),t.step>1&&t.step<7?i("button",{staticClass:"btn btn-lg btn-outline-light mb-2 float-left footer-button",on:{click:t.goToPrevStep}},[t._v("\n                "+t._s(t.$t("Kiosk.App.ReturnButton"))+"\n            ")]):t._e()])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showNumericalKeyboard,expression:"showNumericalKeyboard"}],staticClass:"simple-keyboard",staticStyle:{"z-index":"9999",position:"absolute",bottom:"0px"},attrs:{tabindex:"1"},on:{blur:t.hideKeyboardNumerical}}),i("div",{staticStyle:{"text-align":"center"},attrs:{id:"ticketPrint"}},[i("img",{staticStyle:{width:"50%","margin-bottom":"1cm"},attrs:{src:""!=t.kioskConfig.photo?t.kioskConfig.photo:n("a8cc")}}),i("br"),i("span",{staticStyle:{"font-size":"18px"}},[t._v(t._s(t.$t("Kiosk.Ticket.Welcome")))]),i("br"),i("span",{staticStyle:{"font-size":"22px","font-weight":"bold"}},[t._v(t._s(t.kiosk_info.business.name))]),i("br"),i("span",{staticStyle:{"font-size":"18px"}},[t._v(t._s(t.selectedQueue?t.selectedQueue.queue.title:""))]),i("hr"),i("table",{staticStyle:{width:"100%"}},[i("tr",[i("td",{staticStyle:{"text-align":"left",width:"50%"}},[t._v(t._s(t.checkinDateFormatted))]),i("td",{staticStyle:{"text-align":"right",width:"50%"}},[t._v(t._s(t.checkinTimeFormatted))])])]),i("div",{staticClass:"seperator"}),i("span",{staticStyle:{"font-size":"54px","font-weight":"bold"}},[t._v(t._s(t.ticket.public_identifier))]),i("div",{staticClass:"seperator"}),i("hr"),i("table",{staticStyle:{width:"100%"}},[i("tr",[i("td",{staticStyle:{"text-align":"center",width:"50%"}},[i("span",{staticStyle:{"font-size":"32px","font-weight":"bold"}},[t._v(t._s(t.ticket.total_waiting))]),i("br"),i("span",{staticStyle:{"font-size":"15px"}},[t._v(t._s(t.$t("Kiosk.Ticket.Rank")))])]),i("td",{staticStyle:{"text-align":"center",width:"50%"}},[i("span",{staticStyle:{"font-size":"32px","font-weight":"bold"}},[t._v(t._s(t.ticketWaitingTimeFormatted))]),i("br"),i("span",{staticStyle:{"font-size":"15px"}},[t._v(t._s(t.$t("Kiosk.Ticket.WaitingTime")))])])])]),i("hr"),i("span",{staticStyle:{"font-size":"24px","font-weight":"bold"}},[t._v(t._s(t.$t("Kiosk.Ticket.Services")))]),i("br"),t._l(t.ticket.services,(function(e,n){return i("span",{key:n,staticStyle:{"font-size":"18px"}},[t._v("\n            "+t._s(e.title)+" "),i("br")])})),i("footer",{attrs:{id:"footer"}},[i("qrcode-vue",{staticStyle:{"margin-bottom":"10px"},attrs:{renderAs:"svg",value:t.qrCode}}),i("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(t.$t("Kiosk.Ticket.ScanQR")))]),i("br"),i("span",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.$t("Kiosk.Ticket.ThankYou")))])],1)],2)],1)},s=[],o=(n("8e6e"),n("456d"),n("bd86")),r=(n("ac6a"),n("6b54"),n("28a5"),n("a481"),n("2f62")),a=n("8d80"),u=n("aec4"),l={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8};function c(t){this.mode=l.MODE_8BIT_BYTE,this.data=t}c.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}};var h=c,d={L:1,M:0,Q:3,H:2};function p(t,e){this.totalCount=t,this.dataCount=e}p.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],p.getRSBlocks=function(t,e){var n=p.getRsBlockTable(t,e);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var i=n.length/3,s=new Array,o=0;o<i;o++)for(var r=n[3*o+0],a=n[3*o+1],u=n[3*o+2],l=0;l<r;l++)s.push(new p(a,u));return s},p.getRsBlockTable=function(t,e){switch(e){case d.L:return p.RS_BLOCK_TABLE[4*(t-1)+0];case d.M:return p.RS_BLOCK_TABLE[4*(t-1)+1];case d.Q:return p.RS_BLOCK_TABLE[4*(t-1)+2];case d.H:return p.RS_BLOCK_TABLE[4*(t-1)+3];default:return}};var f=p;function m(){this.buffer=new Array,this.length=0}m.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};for(var g=m,v={glog:function(t){if(t<1)throw new Error("glog("+t+")");return v.LOG_TABLE[t]},gexp:function(t){while(t<0)t+=255;while(t>=256)t-=255;return v.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},b=0;b<8;b++)v.EXP_TABLE[b]=1<<b;for(b=8;b<256;b++)v.EXP_TABLE[b]=v.EXP_TABLE[b-4]^v.EXP_TABLE[b-5]^v.EXP_TABLE[b-6]^v.EXP_TABLE[b-8];for(b=0;b<255;b++)v.LOG_TABLE[v.EXP_TABLE[b]]=b;var y=v;function A(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);var n=0;while(n<t.length&&0==t[n])n++;this.num=new Array(t.length-n+e);for(var i=0;i<t.length-n;i++)this.num[i]=t[i+n]}A.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<t.getLength();i++)e[n+i]^=y.gexp(y.glog(this.get(n))+y.glog(t.get(i)));return new A(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=y.glog(this.get(0))-y.glog(t.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<t.getLength();i++)n[i]^=y.gexp(y.glog(t.get(i))+e);return new A(n,0).mod(t)}};var k=A,w={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},C={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){var e=t<<10;while(C.getBCHDigit(e)-C.getBCHDigit(C.G15)>=0)e^=C.G15<<C.getBCHDigit(e)-C.getBCHDigit(C.G15);return(t<<10|e)^C.G15_MASK},getBCHTypeNumber:function(t){var e=t<<12;while(C.getBCHDigit(e)-C.getBCHDigit(C.G18)>=0)e^=C.G18<<C.getBCHDigit(e)-C.getBCHDigit(C.G18);return t<<12|e},getBCHDigit:function(t){var e=0;while(0!=t)e++,t>>>=1;return e},getPatternPosition:function(t){return C.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case w.PATTERN000:return(e+n)%2==0;case w.PATTERN001:return e%2==0;case w.PATTERN010:return n%3==0;case w.PATTERN011:return(e+n)%3==0;case w.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case w.PATTERN101:return e*n%2+e*n%3==0;case w.PATTERN110:return(e*n%2+e*n%3)%2==0;case w.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new k([1],0),n=0;n<t;n++)e=e.multiply(new k([1,y.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case l.MODE_NUMBER:return 10;case l.MODE_ALPHA_NUM:return 9;case l.MODE_8BIT_BYTE:return 8;case l.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case l.MODE_NUMBER:return 12;case l.MODE_ALPHA_NUM:return 11;case l.MODE_8BIT_BYTE:return 16;case l.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case l.MODE_NUMBER:return 14;case l.MODE_ALPHA_NUM:return 13;case l.MODE_8BIT_BYTE:return 16;case l.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,i=0;i<e;i++)for(var s=0;s<e;s++){for(var o=0,r=t.isDark(i,s),a=-1;a<=1;a++)if(!(i+a<0||e<=i+a))for(var u=-1;u<=1;u++)s+u<0||e<=s+u||0==a&&0==u||r==t.isDark(i+a,s+u)&&o++;o>5&&(n+=3+o-5)}for(i=0;i<e-1;i++)for(s=0;s<e-1;s++){var l=0;t.isDark(i,s)&&l++,t.isDark(i+1,s)&&l++,t.isDark(i,s+1)&&l++,t.isDark(i+1,s+1)&&l++,0!=l&&4!=l||(n+=3)}for(i=0;i<e;i++)for(s=0;s<e-6;s++)t.isDark(i,s)&&!t.isDark(i,s+1)&&t.isDark(i,s+2)&&t.isDark(i,s+3)&&t.isDark(i,s+4)&&!t.isDark(i,s+5)&&t.isDark(i,s+6)&&(n+=40);for(s=0;s<e;s++)for(i=0;i<e-6;i++)t.isDark(i,s)&&!t.isDark(i+1,s)&&t.isDark(i+2,s)&&t.isDark(i+3,s)&&t.isDark(i+4,s)&&!t.isDark(i+5,s)&&t.isDark(i+6,s)&&(n+=40);var c=0;for(s=0;s<e;s++)for(i=0;i<e;i++)t.isDark(i,s)&&c++;var h=Math.abs(100*c/e/e-50)/5;return n+=10*h,n}},_=C;function E(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var P=E.prototype;P.addData=function(t){var e=new h(t);this.dataList.push(e),this.dataCache=null},P.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},P.getModuleCount=function(){return this.moduleCount},P.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=f.getRSBlocks(t,this.errorCorrectLevel),n=new g,i=0,s=0;s<e.length;s++)i+=e[s].dataCount;for(s=0;s<this.dataList.length;s++){var o=this.dataList[s];n.put(o.mode,4),n.put(o.getLength(),_.getLengthInBits(o.mode,t)),o.write(n)}if(n.getLengthInBits()<=8*i)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},P.makeImpl=function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=E.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},P.setupPositionProbePattern=function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var i=-1;i<=7;i++)e+i<=-1||this.moduleCount<=e+i||(this.modules[t+n][e+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},P.getBestMaskPattern=function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=_.getLostPoint(this);(0==n||t>i)&&(t=i,e=n)}return e},P.createMovieClip=function(t,e,n){var i=t.createEmptyMovieClip(e,n),s=1;this.make();for(var o=0;o<this.modules.length;o++)for(var r=o*s,a=0;a<this.modules[o].length;a++){var u=a*s,l=this.modules[o][a];l&&(i.beginFill(0,100),i.moveTo(u,r),i.lineTo(u+s,r),i.lineTo(u+s,r+s),i.lineTo(u,r+s),i.endFill())}return i},P.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},P.setupPositionAdjustPattern=function(){for(var t=_.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var i=t[e],s=t[n];if(null==this.modules[i][s])for(var o=-2;o<=2;o++)for(var r=-2;r<=2;r++)this.modules[i+o][s+r]=-2==o||2==o||-2==r||2==r||0==o&&0==r}},P.setupTypeNumber=function(t){for(var e=_.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!t&&1==(e>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(n=0;n<18;n++){i=!t&&1==(e>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},P.setupTypeInfo=function(t,e){for(var n=this.errorCorrectLevel<<3|e,i=_.getBCHTypeInfo(n),s=0;s<15;s++){var o=!t&&1==(i>>s&1);s<6?this.modules[s][8]=o:s<8?this.modules[s+1][8]=o:this.modules[this.moduleCount-15+s][8]=o}for(s=0;s<15;s++){o=!t&&1==(i>>s&1);s<8?this.modules[8][this.moduleCount-s-1]=o:s<9?this.modules[8][15-s-1+1]=o:this.modules[8][15-s-1]=o}this.modules[this.moduleCount-8][8]=!t},P.mapData=function(t,e){for(var n=-1,i=this.moduleCount-1,s=7,o=0,r=this.moduleCount-1;r>0;r-=2){6==r&&r--;while(1){for(var a=0;a<2;a++)if(null==this.modules[i][r-a]){var u=!1;o<t.length&&(u=1==(t[o]>>>s&1));var l=_.getMask(e,i,r-a);l&&(u=!u),this.modules[i][r-a]=u,s--,-1==s&&(o++,s=7)}if(i+=n,i<0||this.moduleCount<=i){i-=n,n=-n;break}}}},E.PAD0=236,E.PAD1=17,E.createData=function(t,e,n){for(var i=f.getRSBlocks(t,e),s=new g,o=0;o<n.length;o++){var r=n[o];s.put(r.mode,4),s.put(r.getLength(),_.getLengthInBits(r.mode,t)),r.write(s)}var a=0;for(o=0;o<i.length;o++)a+=i[o].dataCount;if(s.getLengthInBits()>8*a)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*a+")");s.getLengthInBits()+4<=8*a&&s.put(0,4);while(s.getLengthInBits()%8!=0)s.putBit(!1);while(1){if(s.getLengthInBits()>=8*a)break;if(s.put(E.PAD0,8),s.getLengthInBits()>=8*a)break;s.put(E.PAD1,8)}return E.createBytes(s,i)},E.createBytes=function(t,e){for(var n=0,i=0,s=0,o=new Array(e.length),r=new Array(e.length),a=0;a<e.length;a++){var u=e[a].dataCount,l=e[a].totalCount-u;i=Math.max(i,u),s=Math.max(s,l),o[a]=new Array(u);for(var c=0;c<o[a].length;c++)o[a][c]=255&t.buffer[c+n];n+=u;var h=_.getErrorCorrectPolynomial(l),d=new k(o[a],h.getLength()-1),p=d.mod(h);r[a]=new Array(h.getLength()-1);for(c=0;c<r[a].length;c++){var f=c+p.getLength()-r[a].length;r[a][c]=f>=0?p.get(f):0}}var m=0;for(c=0;c<e.length;c++)m+=e[c].totalCount;var g=new Array(m),v=0;for(c=0;c<i;c++)for(a=0;a<e.length;a++)c<o[a].length&&(g[v++]=o[a][c]);for(c=0;c<s;c++)for(a=0;a<e.length;a++)c<r[a].length&&(g[v++]=r[a][c]);return g};var T=E;function M(t){for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i<2048?(e+=String.fromCharCode(192|i>>6),e+=String.fromCharCode(128|63&i)):i<55296||i>=57344?(e+=String.fromCharCode(224|i>>12),e+=String.fromCharCode(128|i>>6&63),e+=String.fromCharCode(128|63&i)):(n++,i=65536+((1023&i)<<10|1023&t.charCodeAt(n)),e+=String.fromCharCode(240|i>>18),e+=String.fromCharCode(128|i>>12&63),e+=String.fromCharCode(128|i>>6&63),e+=String.fromCharCode(128|63&i))}return e}function D(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];return t.forEach((function(t,i){var s=null;t.forEach((function(o,r){if(!o&&null!==s)return n.push("M".concat(s+e," ").concat(i+e,"h").concat(r-s,"v1H").concat(s+e,"z")),void(s=null);if(r!==t.length-1)o&&null===s&&(s=r);else{if(!o)return;null===s?n.push("M".concat(r+e,",").concat(i+e," h1v1H").concat(r+e,"z")):n.push("M".concat(s+e,",").concat(i+e," h").concat(r+1-s,"v1H").concat(s+e,"z"))}}))})),n.join("")}var B={props:{value:{type:String,required:!0,default:""},className:{type:String,default:""},size:{type:[Number,String],default:100,validator:function(t){return!0!==isNaN(Number(t))}},level:{type:String,default:"L",validator:function(t){return["L","Q","M","H"].indexOf(t)>-1}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},renderAs:{type:String,required:!1,default:"canvas",validator:function(t){return["canvas","svg"].indexOf(t)>-1}}},data:function(){return{numCells:0,fgPath:""}},updated:function(){this.render()},mounted:function(){this.render()},methods:{render:function(){var t=this.value,e=this.size,n=this.level,i=this.background,s=this.foreground,o=this.renderAs,r=e>>>0,a=new T(-1,d[n]);a.addData(M(t)),a.make();var u=a.modules,l=r/u.length,c=r/u.length,h=window.devicePixelRatio||1;if("svg"===o)this.numCells=u.length,this.fgPath=D(u);else{var p=this.$refs["qrcode-vue"],f=p.getContext("2d");p.height=p.width=r*h,f.scale(h,h),u.forEach((function(t,e){t.forEach((function(t,n){f.fillStyle=t?s:i;var o=Math.ceil((n+1)*l)-Math.floor(n*l),r=Math.ceil((e+1)*c)-Math.floor(e*c);f.fillRect(Math.round(n*l),Math.round(e*c),o,r)}))}))}}},render:function(t){var e=this.className,n=this.value,i=this.level,s=this.background,o=this.foreground,r=this.size,a=this.renderAs,u=this.numCells,l=this.fgPath;return t("div",{class:this.class||e,attrs:{value:n,level:i,background:s,foreground:o}},["svg"===a?t("svg",{attrs:{height:r,width:r,shapeRendering:"crispEdges",viewBox:"0 0 ".concat(u," ").concat(u)},style:{width:r+"px",height:r+"px"}},[t("path",{attrs:{fill:s,d:"M0,0 h".concat(u,"v").concat(u,"H0z")}}),t("path",{attrs:{fill:o,d:l}})]):t("canvas",{attrs:{height:r,width:r},style:{width:r+"px",height:r+"px"},ref:"qrcode-vue"},[])])}},S=B,x=n("dd7f"),O=n.n(x);n("d2db");function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var K=null,I={name:"Checkin",data:function(){return{msg:"Checkin",phone_number:"",internal_id:"",country_prefix:"",fname:"",lname:"",email:"",keyboardInput:"",step:1,customer:{},queues:[],kioskConfig:{},ticket:{business:1,checkinDate:"2020-05-12",checkinTime:"02:08:20",customer_id:395,estimatedTimeToSpend:"25",id:54,member_id:1,total_waiting:0,public_identifier:"001",queue_line_id:45,services:"4",status:"waiting",statusUpdateTimestamp:"",unique_id:"a818243e9ee05ff6",urgent:"0"},selectedQueue:null,selectedMember:null,selectedServices:[],inputValidation:{phone:!1},errors:{phone:!1,internal_id:!1,queue:!1,join:!1},qrCode:"",showNumericalKeyboard:!1,showAlphaNumericalKeyboard:!1}},methods:{showLoading:function(){this.$vs.loading({container:"#checkin-box",scale:.6})},hideLoading:function(){this.$vs.loading.close("#checkin-box > .con-vs-loading")},goToNextStep:function(){switch(this.errors={phone:!1,internal_id:!1,push:!1},this.step){case 1:this.phone_number.length>=6?1==this.kiosk_info.kiosk.require_internal_id?this.internal_id.length>3?this.findCustomerByPhoneNumber():this.errors.internal_id=!0:this.findCustomerByPhoneNumber():this.errors.phone=!0;break;case 2:this.fname.length&&this.lname.length&&this.createNewCustomer();break;case 3:null!=this.selectedQueue?this.step++:this.errors.queue=!0;break;case 4:this.selectedServices.length&&(this.selectedQueue.queue.choosable?this.step++:this.step=this.step+2);break;case 5:this.step++;break;case 6:this.step++;break}},goToPrevStep:function(){switch(this.step){case 2:this.step--;break;case 3:this.step=1;break;case 4:this.step--;break;case 5:this.selectedServices=[],this.step--;break;case 6:this.selectedMember=null,this.selectedQueue.queue.choosable?this.step--:this.step=this.step-2;break}},findCustomerByPhoneNumber:function(){this.showLoading();var t={phone_number:this.phone_number.replace(/\s/g,""),internal_id:this.internal_id,country_prefix:this.countryPrefix};u["a"].findCustomerByPhoneNumber(t).then(function(t){null!=t.customer?1==this.kiosk_info.kiosk.require_internal_id&&0==t.customer.hasBookingToday?this.step=8:(this.step=3,1==this.queues.length&&(this.selectedQueue=this.queues[0],this.step=4),this.customer=t.customer):this.kiosk_info.kiosk.collect_details?1==this.kiosk_info.kiosk.require_internal_id?this.step=8:this.step=2:(this.fname="",this.lname="",this.email="",this.createNewCustomer())}.bind(this)).catch(function(){}.bind(this)).finally(function(){this.hideLoading()}.bind(this))},createNewCustomer:function(){this.showLoading();var t={phone_number:this.phone_number.replace(/\s/g,"").replace(this.countryPrefix,"").replace("(0)",""),country_prefix:this.countryPrefix,country:this.countryIso,fname:this.fname,lname:this.lname,email:this.email,internal_id:this.internal_id};u["a"].createCustomer(t).then(function(t){null!=t.customer&&(1==this.kiosk_info.kiosk.require_internal_id&&0==t.customer.hasBookingToday?this.step=8:(this.step=3,1==this.queues.length&&(this.selectedQueue=this.queues[0],this.step=4)),this.customer=t.customer)}.bind(this)).catch(function(){}.bind(this)).finally(function(){this.hideLoading()}.bind(this))},getKioskQueues:function(){var t=this,e=JSON.parse(this.kiosk_info.kiosk.config).queues.toString().split(",");e.forEach((function(e){u["a"].getQueueById(e).then(function(t){1==t.queue.status&&this.queues.push(t)}.bind(t))}))},joinQueue:function(){this.showLoading();var t={queue_id:this.selectedQueue.queue.id,services:this.selectedServicesIds,customer_id:this.customer?this.customer.id:-1,member_id:this.selectedMember?this.selectedMember.id:-1,anonymous:this.kiosk_info.kiosk.collected_details};u["a"].joinQueue(t).then(function(t){this.ticket=t.ticket,this.qrCode="https://app.liberrex.com/t/"+this.ticket.unique_id,this.step=7,setTimeout((function(){window.print()}),1e3),setTimeout(function(){7==this.step&&this.startAgain()}.bind(this),5e3)}.bind(this)).catch(function(t){this.errors.push=!0}.bind(this)).finally(function(){this.hideLoading()}.bind(this))},startAgain:function(){this.internal_id="",this.phone_number="",this.country_prefix="",this.fname="",this.lname="",this.email="",this.step=1,this.customer=null,this.selectedQueue=null,this.selectedMember=null,this.selectedServices=[]},unselectMember:function(){this.selectedMember=null},waitingTimeFormated:function(t){return this.$moment().startOf("day").add(t,"seconds").format("HH:mm")},onChange:function(t){},onKeyPress:function(t,e){switch(t){case"<":switch(e){case"phone":this.phone_number=this.phone_number.slice(0,-1);break;case"internal_id":this.internal_id=this.internal_id.slice(0,-1);break;case"fname":this.fname=this.fname.slice(0,-1);break;case"lname":this.lname=this.lname.slice(0,-1);break;case"email":this.email=this.email.slice(0,-1);break}break;case"X":this.hideKeyboardNumerical();break;default:switch("{space}"==t&&(t=" "),e){case"internal_id":this.internal_id=this.internal_id+t;break;case"phone":this.phone_number=this.phone_number+t;break;case"fname":this.fname=this.fname+t;break;case"lname":this.lname=this.lname+t;break;case"email":this.email=this.email+t;break}}},onInputChange:function(t){this.input=t.target.value},showKeyboardNumerical:function(t){var e=this;K=new O.a({onChange:function(n){return e.onChange(n,t)},onKeyPress:function(n){return e.onKeyPress(n,t)},layout:{default:["1 2 3","4 5 6","7 8 9","< 0 X"]},theme:"hg-theme-default hg-layout-numeric numeric-theme",inputPattern:/^\d+$/,autoUseTouchEvents:!0}),this.showNumericalKeyboard=!0},showKeyboardAlphaNumerical:function(t){var e=this;K=new O.a({onChange:function(n){return e.onChange(n,t)},onKeyPress:function(n){return e.onKeyPress(n,t)},layout:{default:["1 2 3 4 5 6 7 8 9 0 - / X","A Z E R T Y U I O P","Q S D F G H J K L","W X C V B N M <","{space}"]},theme:"hg-theme-default hg-layout-numeric numeric-theme",inputPattern:/^\d+$/,autoUseTouchEvents:!0}),this.showNumericalKeyboard=!0},hideKeyboardNumerical:function(){this.showNumericalKeyboard=!1,K.destroy()},hideKeyboardAlphaNumerical:function(){this.showNumericalKeyboard=!1,K.destroy()}},computed:L({},Object(r["c"])({kiosk_info:function(t){return t.Kiosk.kiosk}}),{inputValid:function(){return!(this.key&&this.secret&&!this.requestFailed)},phoneNumberMask:function(){var t="";switch(this.kiosk_info.business.country){case"Tunisie":t="XX XXX XXX";break;case"United Kingdom":t="XXX XXX XXXX";break}return t},countryPrefix:function(){var t="";switch(this.kiosk_info.business.country){case"Tunisie":t="+216";break;case"United Kingdom":t="+44";break}return t},countryIso:function(){var t="";switch(this.kiosk_info.business.country){case"Tunisie":t="TN";break;case"United Kingdom":t="GB";break}return t},selectedServicesNames:function(){return this.selectedServices.map((function(t){return t.title})).join(", ")},selectedServicesIds:function(){return this.selectedServices.map((function(t){return t.id})).join(",")},ticketWaitingTimeFormatted:function(){return this.$moment().startOf("day").add(this.ticket.waiting_time,"seconds").format("HH:mm")},serviceTimeFormatted:function(){return this.$moment().startOf("day").add(this.ticket.estimatedTimeToSpend,"minutes").format("HH:mm")},checkinDateFormatted:function(){return this.$moment(this.ticket.checkinDate+" "+this.ticket.checkinTime).format("DD/MM/YYYY")},checkinTimeFormatted:function(){return this.$moment(this.ticket.checkinDate+" "+this.ticket.checkinTime).format("HH:mm")}}),mounted:function(){this.getKioskQueues(),this.kioskConfig=JSON.parse(this.kiosk_info.kiosk.config)},components:{LanguageSelector:a["a"],QrcodeVue:S}},R=I,H=(n("e7e5"),n("2877")),j=Object(H["a"])(R,i,s,!1,null,null,null);e["default"]=j.exports},"541f":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAG7AAABuwE67OPiAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAT5QTFRF////mczM/5mZTYDM5k1m6urqO3bE2DtOj6/P34+fgJzG1YCOKGu81yhDjKbM2YyZ7OzsfaTU4n2QaZbN4ml9UYfJ4FFo7+/v8PDw7+/vWIrI4Fhwc53P4nOISoPF30pkXpDL4l538PDwVIrK4FRt7+/vaZfO4ml/Z5bO4md+S4PH30tnSoLH4EplR4DG30djQH3F3kBeQn7ETITG30Je30xm8PDw8PDwRYDF30VhOHfCO3nD3ThW3ztZ8PDwMHHAO3nC3TBP3jtZO3nC3jtZOHbC3jhWK26/3CtLPXnC3j1ZJmq+3CZH8PDwLXDA3C1O8PDwGGK6GGK72hg7Dlu3FmG62g4z2xY6Dly32g4zCVi3DVq3D1u42Qku2Q0y2Q8z8PDwAFK0AlO0Bla1HWW72AAn2AIp2AYs2x0/8PDw/0mxfAAAAGF0Uk5TAAUFCgoMDQ0QEBISExMUFBs1NT09QkJOaHB0dHp6f3+FhYqMjKSnp6ioqamsrK2ttLS2tra2tr7Q0NXV1dXY5ubm5uzs7e3u7vDw8vLy8/P4+vr6/Pz8/P39/v7+/v7+/koDz7kAAAFvSURBVFjDrdfXUgJBEAXQa8AcMAJmUcw5gBFzFkUxR1ptlf//AR/UEmQXdufS7/dUbZiebsCmPL5AMBSJxmLRSCgY8Hngqrz+cDyVUfGw3+s0XTF0kExZVPJwuNJBvGbsUt5SlvWp1+O1+fJ9FyL2gOpVf854w5ZIbkB1u9E+3/Ug+QF97rbLT4g4AVQnLeNFC+IU0MXi7HzJujgHdLM0C1gWN4Cu/s+PiDtARzPzbS9ugff29HzTvbgF9Kk5DdgR94Du/uV7xATQ3t982ZkZkCj/AabEDNDp73zVjSlwWw0AGBBTQAcBACfmwCkAtIg5oK0AZhhgDsAeA+wDda8M8FGPDmEA7cQsB8xjiQNWsMYBGzjigGOcc0ACdxzwyAP0I9Avkf6M9I9E/8r0YaKPM91Q+JZGN1W6rfMXC3210Zcrf73TAwY/4vBDFj3m8YMmP+rywzY97vMLRwFWHn7p4te+Aiye/OpbgOXb3fr/BZ9C9PPQVNwdAAAAAElFTkSuQmCC"},"66cd":function(t,e,n){},"87f3":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAG7AAABuwE67OPiAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAJNQTFRF/////wAA////YJ+/32CA6urqmarMlrfYep/V7+/vfaPR7+/v7+/vd6DS5YCQ8fHx6bvDeKHRSIHGToXH5oaX3jlXYJHMT4bI2ydIPnvD2x5BImi88PDw7+/w2hQ4E1+4AFK0AVO0BFS1UojIY5PNrsXg2AAn2Act4FJs5HiL5YeY5pCg6J6r67zF68PK7+/w8PDwMMdDPwAAACB0Uk5TAAEDCAgMDy4wTl5icHaKjpqgrq7M19zm6u/0+Pj5+/3LDBNJAAACUElEQVRYw7WX23aqQAyGo9aKZ8EDoiIBcURtJe//dPtCsEwmo3ZNd24n/7dgDskfAEt0+6PZerM/nfab9WzU78KvwpuvdkQ3VcWNaLeae++qP/0owwPpADpgFvmfb8g7QYKIEgARk6DzSj/eItoBiNvxU3kvTPE5ANOwZ9cPEsRXAMRkYNMP4/wdQB5PWpK8PSUq89eAvLyo5Yep/1gQNQhWQF5elFKLNte3lurcJNgAd/2ZphwwUUojWAC1nmjI9j++6AQZ8KOnWDuLXtJYKnMbQEtKmvchZIsygKWEjfubcrwE4B+ZPm51Z8s2iMrcBHA94rZ+WQGiQThywNHQIwbV+0/QJBAHkKnH5F4ffESZoAGuph7RBwCACC0EDVAIeowAALwMLQQGMPWYeQAwR7QQdICgR5wDwOqgx5GuRVF8c8A3EREdWfIKoLsjW+inIMauC31yAVAfRm6AEcxu1viqAV/2nBmslVOsYeMG2MDeDbCHkxvg5A5w/gXnTXQ+RueL5HyVnR+T83MWCgpV9UMvKEVRXKWCYpY0IqJzYXzBWSl1kUoaL6r3ZBMgETLPLOtVqgAQCJHZWOrEq7SJBsE3WtsjTT4FRqhaW6O5/iQJzdUkBLy9N1Kk9s4Jj/ZeG4xmgmgwdEI6ZhZHW5YtjpYSMpOl4y0mq5GkmSwYxOwHbTbvkRYzyz1kG2Q1mjVhwq3qVD8iu9W9E5aGYW8vtCN+YraJiBaSXV82L9kzu080bUsDQ2vy7sAx/F8jj/vQ5T72/cHg6T76/sHw/bvx/x9Vs/PMEyk+IAAAAABJRU5ErkJggg=="},"8d80":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{position:"fixed",right:"0px",top:"10px"},attrs:{id:"lang-box"}},[i("ul",{staticStyle:{display:"inline-flex","list-style":"none"}},[i("li",{staticClass:"mr-4",on:{click:function(e){return t.changeLanguage("ar")}}},[i("img",{staticStyle:{"max-height":"48px"},attrs:{src:n("b29a")}})]),i("li",{staticClass:"mr-4",on:{click:function(e){return t.changeLanguage("fr")}}},[i("img",{staticStyle:{"max-height":"48px"},attrs:{src:n("541f")}})]),i("li",{staticClass:"mr-4",on:{click:function(e){return t.changeLanguage("en")}}},[i("img",{staticStyle:{"max-height":"48px"},attrs:{src:n("87f3")}})])]),t._e()],1)},s=[],o={name:"LanguageSelector",data:function(){return{title:"LanguageSelector"}},props:{textstyle:String},methods:{changeLanguage:function(t){this.$i18n.locale=t,localStorage.setItem("Language",t),location.reload(!0)}},computed:{getCurrentLanguage:function(){var t=this.$i18n.locale;return"en"==t?{lang:"English"}:"fr"==t?{lang:"Français"}:"es"==t?{lang:"Española"}:"pt"==t?{lang:"Portugues"}:"de"==t?{lang:"Deutsche"}:"ru"==t?{lang:"Русский"}:"ar"==t?{lang:"العريية"}:this.locale},textStyle:function(){return this.textstyle?this.textstyle:"text-dark"}}},r=o,a=n("2877"),u=Object(a["a"])(r,i,s,!1,null,null,null);e["a"]=u.exports},a8cc:function(t,e,n){t.exports=n.p+"img/liberrex-grayscale.412ef437.png"},b29a:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAG7AAABuwE67OPiAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAThQTFRF/////wAAzAAz1QAr2QAm1gAp2QAm1wAo2AAn2AAn2QAm2AAn2AAn1wAo2AAn1wAo2AAn2AAn2AAn2AAn2AAn2AAn1wAo2AAn2AAn2AAn2AAn2AAn2AAn2AAn2AAn2AEo2AMp2AQq2QYs2Qct2Qgu2Q4z2g802hQ42hg72xk82x0/2x5A2yJD3CdH3ChJ3CpK3CtL3TFQ3TNS3jlX3j1a3j9c4FVu4Vhx4Vpz4V524mN64md942uB42yC426D5HuO5HyP5X6R5X+R5YGT5YaX5oiZ5ouc55qo6J2r6KGu6KOv6aez6ay36rjB67nC67vE673F68DI7MjP7MnQ7MrQ7c3T7c7U7dHW7dLX7tjc7tnd7tzf7t7h7t/i7+Lk7+fo7+jp7+jq7+nq8Ovs8Ozt8O3u8O/v8PDwdyny+QAAAB50Uk5TAAMKDBsfPExOYmRocHSKjqSwtr7Ay9XY5ery+Pn+bfME6gAAAkJJREFUWMOtV2dbAjEMLiKIbBkiq+BeICri3uKeKO498P7/P5AGUOiAO8P7gSe0Sa7NakKIAmab0+31hyKRkN/rdtrMxBA6Hb4obUDU5+jUK93hCsapBPGgq0OHuMneR5Xos5tayXf10qbo7WoqbgnQlghY1PLWMNWBsFUl3x2juhDrllvPQ3XDI7GlqYcaQI+owUMNwSPcnxoEZwdrzKiCWIMvLGFqGOH6eAjQfyBQF7/0X/iNapMy/ofTuVx6WJkXNV/apduJbP5WA9zmswkpi72a/9L8zRW0OhRy0uyu1AeXZGvkWONwPCJhc4GCoLiRKtbk3l5rVDEl8gWh/on1K/UEIjd7i5lkcmph9xr+Poka4qxOOsTzw/dL2wM1cw5ufcEZxFs4ygp8wircvzgL9NjqfrF0f3rwCHYQWH3l+h8V7A/yQ0DPPzdYUvBF1Exsgv+Z/0rw/YEjzhUFIR5sxMkvZRnnNpCbjHy4qtOQ5bmdxM0v5Zn9wX4zYLq76Y8/BXme2028/BKL3z2gKrF4R1fKvxenlajmub3Ez+cP41sE6ruqgO6uTUy+VI7AZ5afhLiVNGPLMGoOJEqHjO4/q94hzbGHSETixLcko9Y17fNkaRRWN1SOjOAVoK+gx4g7K+NqI+pw47KmfZ8r3dg6kDLvTQOpdShfNg9ldDKh0xldUPAlDV1U0WUd/7Cgnzb044p/3tENBr7FwTdZ6DYP32jiW118s41u9/EDRxtGHvzQhR/72jB44kffNgzfxsb/H759Dsx3rS/bAAAAAElFTkSuQmCC"},d2db:function(t,e,n){},dd7f:function(t,e,n){
/*!
 * 
 *   simple-keyboard v2.29.24
 *   https://github.com/hodgef/simple-keyboard
 * 
 *   Copyright (c) Francisco Hodge (https://github.com/hodgef)
 * 
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *   
 */
!function(e,n){t.exports=n()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(2)},function(t,e,n){},function(t,e,n){"use strict";function i(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(t){if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,r=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return r=t.done,t},e:function(t){a=!0,o=t},f:function(){try{r||null==i.return||i.return()}finally{if(a)throw o}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.r(e),n(1);var a=function(){function t(e){var n=e.getOptions,i=e.getCaretPosition,s=e.dispatch;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.getOptions=n,this.getCaretPosition=i,this.dispatch=s,t.bindMethods(t,this)}var e,n,s;return e=t,s=[{key:"bindMethods",value:function(t,e){var n,s=i(Object.getOwnPropertyNames(t.prototype));try{for(s.s();!(n=s.n()).done;){var o=n.value;"constructor"===o||"bindMethods"===o||(e[o]=e[o].bind(e))}}catch(m){s.e(m)}finally{s.f()}}}],(n=[{key:"getButtonClass",value:function(t){var e=t.includes("{")&&t.includes("}")&&"{//}"!==t?"functionBtn":"standardBtn",n=t.replace("{","").replace("}",""),i="";return"standardBtn"!==e&&(i=" hg-button-".concat(n)),"hg-".concat(e).concat(i)}},{key:"getDefaultDiplay",value:function(){return{"{bksp}":"backspace","{backspace}":"backspace","{enter}":"< enter","{shift}":"shift","{shiftleft}":"shift","{shiftright}":"shift","{alt}":"alt","{s}":"shift","{tab}":"tab","{lock}":"caps","{capslock}":"caps","{accept}":"Submit","{space}":" ","{//}":" ","{esc}":"esc","{escape}":"esc","{f1}":"f1","{f2}":"f2","{f3}":"f3","{f4}":"f4","{f5}":"f5","{f6}":"f6","{f7}":"f7","{f8}":"f8","{f9}":"f9","{f10}":"f10","{f11}":"f11","{f12}":"f12","{numpaddivide}":"/","{numlock}":"lock","{arrowup}":"↑","{arrowleft}":"←","{arrowdown}":"↓","{arrowright}":"→","{prtscr}":"print","{scrolllock}":"scroll","{pause}":"pause","{insert}":"ins","{home}":"home","{pageup}":"up","{delete}":"del","{end}":"end","{pagedown}":"down","{numpadmultiply}":"*","{numpadsubtract}":"-","{numpadadd}":"+","{numpadenter}":"enter","{period}":".","{numpaddecimal}":".","{numpad0}":"0","{numpad1}":"1","{numpad2}":"2","{numpad3}":"3","{numpad4}":"4","{numpad5}":"5","{numpad6}":"6","{numpad7}":"7","{numpad8}":"8","{numpad9}":"9"}}},{key:"getButtonDisplayName",value:function(t,e,n){return(e=n?Object.assign({},this.getDefaultDiplay(),e):e||this.getDefaultDiplay())[t]||t}},{key:"getUpdatedInput",value:function(t,e,n,i){var s=this.getOptions(),o=e;return("{bksp}"===t||"{backspace}"===t)&&o.length>0?o=this.removeAt(o,n,i):"{space}"===t?o=this.addStringAt(o," ",n,i):"{tab}"!==t||"boolean"===typeof s.tabCharOnTab&&!1===s.tabCharOnTab?"{enter}"!==t&&"{numpadenter}"!==t||!s.newLineOnEnter?t.includes("numpad")&&Number.isInteger(Number(t[t.length-2]))?o=this.addStringAt(o,t[t.length-2],n,i):"{numpaddivide}"===t?o=this.addStringAt(o,"/",n,i):"{numpadmultiply}"===t?o=this.addStringAt(o,"*",n,i):"{numpadsubtract}"===t?o=this.addStringAt(o,"-",n,i):"{numpadadd}"===t?o=this.addStringAt(o,"+",n,i):"{numpaddecimal}"===t?o=this.addStringAt(o,".",n,i):"{"===t||"}"===t?o=this.addStringAt(o,t,n,i):t.includes("{")||t.includes("}")||(o=this.addStringAt(o,t,n,i)):o=this.addStringAt(o,"\n",n,i):o=this.addStringAt(o,"\t",n,i),o}},{key:"updateCaretPos",value:function(t,e){var n=this.updateCaretPosAction(t,e);this.dispatch((function(t){t.caretPosition=n}))}},{key:"updateCaretPosAction",value:function(t,e){var n=this.getOptions(),i=this.getCaretPosition();return e?i>0&&(i-=t):i+=t,n.debug&&console.log("Caret at:",i,"(".concat(this.keyboardDOMClass,")")),i}},{key:"addStringAt",value:function(t,e,n,i){var s;return n||0===n?(s=[t.slice(0,n),e,t.slice(n)].join(""),this.isMaxLengthReached()||i&&this.updateCaretPos(e.length)):s=t+e,s}},{key:"removeAt",value:function(t,e,n){var i;if(0===this.getCaretPosition())return t;var s=/([\uD800-\uDBFF][\uDC00-\uDFFF])/g;return e&&e>=0?t.substring(e-2,e).match(s)?(i=t.substr(0,e-2)+t.substr(e),n&&this.updateCaretPos(2,!0)):(i=t.substr(0,e-1)+t.substr(e),n&&this.updateCaretPos(1,!0)):t.slice(-2).match(s)?(i=t.slice(0,-2),n&&this.updateCaretPos(2,!0)):(i=t.slice(0,-1),n&&this.updateCaretPos(1,!0)),i}},{key:"handleMaxLength",value:function(t,e){var n=this.getOptions(),i=n.maxLength,s=t[n.inputName],r=e.length-1>=i;if(e.length<=s.length)return!1;if(Number.isInteger(i))return n.debug&&console.log("maxLength (num) reached:",r),r?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1);if("object"===o(i)){var a=s.length===i[n.inputName];return n.debug&&console.log("maxLength (obj) reached:",a),a?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1)}}},{key:"isMaxLengthReached",value:function(){return Boolean(this.maxLengthReached)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints}},{key:"pointerEventsSupported",value:function(){return window.PointerEvent}},{key:"camelCase",value:function(t){return!!t&&t.toLowerCase().trim().split(/[.\-_\s]/g).reduce((function(t,e){return e.length?t+e[0].toUpperCase()+e.slice(1):t}))}}])&&r(e.prototype,n),s&&r(e,s),t}();function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=function(){function t(e){var n=e.dispatch,i=e.getOptions;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dispatch=n,this.getOptions=i,a.bindMethods(t,this)}var e,n,i;return e=t,(n=[{key:"handleHighlightKeyDown",value:function(t){var e=this.getOptions(),n=this.getSimpleKeyboardLayoutKey(t);this.dispatch((function(t){var i=t.getButtonElement(n)||t.getButtonElement("{".concat(n,"}"));i&&(i.style.backgroundColor=e.physicalKeyboardHighlightBgColor||"#9ab4d0",i.style.color=e.physicalKeyboardHighlightTextColor||"white")}))}},{key:"handleHighlightKeyUp",value:function(t){var e=this.getSimpleKeyboardLayoutKey(t);this.dispatch((function(t){var n=t.getButtonElement(e)||t.getButtonElement("{".concat(e,"}"));n&&n.removeAttribute&&n.removeAttribute("style")}))}},{key:"getSimpleKeyboardLayoutKey",value:function(t){var e;return((e=t.code.includes("Numpad")||t.code.includes("Shift")||t.code.includes("Space")||t.code.includes("Backspace")||t.code.includes("Control")||t.code.includes("Alt")||t.code.includes("Meta")?t.code:t.key)!==e.toUpperCase()||"F"===t.code[0]&&Number.isInteger(Number(t.code[1]))&&t.code.length<=3)&&(e=e.toLowerCase()),e}}])&&u(e.prototype,n),i&&u(e,i),t}();function c(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"===typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(){function t(){var e=this;d(this,t),f(this,"handleParams",(function(t){var e,n,i;if("string"===typeof t[0])e=t[0].split(".").join(""),n=document.querySelector(".".concat(e)),i=t[1];else if(t[0]instanceof HTMLDivElement){if(!t[0].className)throw console.warn("Any DOM element passed as parameter must have a class."),new Error("KEYBOARD_DOM_CLASS_ERROR");e=t[0].className.split(" ")[0],n=t[0],i=t[1]}else e="simple-keyboard",n=document.querySelector(".".concat(e)),i=t[0];return{keyboardDOMClass:e,keyboardDOM:n,options:i}})),f(this,"getOptions",(function(){return e.options})),f(this,"getCaretPosition",(function(){return e.caretPosition})),f(this,"registerModule",(function(t,n){e.modules[t]||(e.modules[t]={}),n(e.modules[t])})),f(this,"getKeyboardClassString",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=[e.keyboardDOMClass].concat(n).filter((function(t){return!!t}));return s.join(" ")}));for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=this.handleParams(i),r=o.keyboardDOMClass,u=o.keyboardDOM,c=o.options,h=void 0===c?{}:c;if(this.utilities=new a({getOptions:this.getOptions,getCaretPosition:this.getCaretPosition,dispatch:this.dispatch}),this.caretPosition=null,this.keyboardDOM=u,this.options=h,this.options.layoutName=this.options.layoutName||"default",this.options.theme=this.options.theme||"hg-theme-default",this.options.inputName=this.options.inputName||"default",this.options.preventMouseDownDefault=this.options.preventMouseDownDefault||!1,this.keyboardPluginClasses="",a.bindMethods(t,this),this.input={},this.input[this.options.inputName]="",this.keyboardDOMClass=r,this.buttonElements={},window.SimpleKeyboardInstances||(window.SimpleKeyboardInstances={}),this.currentInstanceName=this.utilities.camelCase(this.keyboardDOMClass),window.SimpleKeyboardInstances[this.currentInstanceName]=this,this.allKeyboardInstances=window.SimpleKeyboardInstances,this.keyboardInstanceNames=Object.keys(window.SimpleKeyboardInstances),this.isFirstKeyboardInstance=this.keyboardInstanceNames[0]===this.currentInstanceName,this.physicalKeyboard=new l({dispatch:this.dispatch,getOptions:this.getOptions}),!this.keyboardDOM)throw console.warn('".'.concat(r,'" was not found in the DOM.')),new Error("KEYBOARD_DOM_ERROR");this.render(),this.modules={},this.loadModules()}var e,n,i;return e=t,(n=[{key:"handleButtonClicked",value:function(t){var e=this.options.debug;if("{//}"===t)return!1;"function"===typeof this.options.onKeyPress&&this.options.onKeyPress(t),this.input[this.options.inputName]||(this.input[this.options.inputName]="");var n=this.utilities.getUpdatedInput(t,this.input[this.options.inputName],this.caretPosition);if(this.input[this.options.inputName]!==n&&(!this.options.inputPattern||this.options.inputPattern&&this.inputPatternIsValid(n))){if(this.options.maxLength&&this.utilities.handleMaxLength(this.input,n))return!1;this.input[this.options.inputName]=this.utilities.getUpdatedInput(t,this.input[this.options.inputName],this.caretPosition,!0),e&&console.log("Input changed:",this.input),this.options.syncInstanceInputs&&this.syncInstanceInputs(),"function"===typeof this.options.onChange&&this.options.onChange(this.input[this.options.inputName]),"function"===typeof this.options.onChangeAll&&this.options.onChangeAll(this.input)}e&&console.log("Key pressed:",t)}},{key:"handleButtonMouseDown",value:function(t,e){var n=this;this.options.preventMouseDownDefault&&e.preventDefault(),this.options.stopMouseDownPropagation&&e.stopPropagation(),e&&e.target.classList.add(this.activeButtonClass),this.isMouseHold=!0,this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdTimeout&&clearTimeout(this.holdTimeout),this.options.disableButtonHold||(this.holdTimeout=setTimeout((function(){(n.isMouseHold&&(!t.includes("{")&&!t.includes("}")||"{delete}"===t||"{backspace}"===t||"{bksp}"===t||"{space}"===t||"{tab}"===t)||"{arrowright}"===t||"{arrowleft}"===t||"{arrowup}"===t||"{arrowdown}"===t)&&(n.options.debug&&console.log("Button held:",t),n.handleButtonHold(t,e)),clearTimeout(n.holdTimeout)}),500))}},{key:"handleButtonMouseUp",value:function(t){var e=this;this.recurseButtons((function(t){t.classList.remove(e.activeButtonClass)})),this.isMouseHold=!1,this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),t&&"function"===typeof this.options.onKeyReleased&&this.options.onKeyReleased(t)}},{key:"handleKeyboardContainerMouseDown",value:function(t){this.options.preventMouseDownDefault&&t.preventDefault()}},{key:"handleButtonHold",value:function(t){var e=this;this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdInteractionTimeout=setTimeout((function(){e.isMouseHold?(e.handleButtonClicked(t),e.handleButtonHold(t)):clearTimeout(e.holdInteractionTimeout)}),100)}},{key:"syncInstanceInputs",value:function(){var t=this;this.dispatch((function(e){e.replaceInput(t.input),e.caretPosition=t.caretPosition}))}},{key:"clearInput",value:function(t){t=t||this.options.inputName,this.input[t]="",this.caretPosition=0,this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"getInput",value:function(t){return t=t||this.options.inputName,this.options.syncInstanceInputs&&this.syncInstanceInputs(),this.input[t]}},{key:"setInput",value:function(t,e){e=e||this.options.inputName,this.input[e]=t,this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"replaceInput",value:function(t){this.input=t}},{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.changedOptions(t);this.options=Object.assign(this.options,t),e.length&&(this.options.debug&&console.log("changedOptions",e),this.onSetOptions(t),this.render())}},{key:"changedOptions",value:function(t){var e=this;return Object.keys(t).filter((function(n){return JSON.stringify(t[n])!==JSON.stringify(e.options[n])}))}},{key:"onSetOptions",value:function(t){t.inputName&&(this.options.debug&&console.log("inputName changed. caretPosition reset."),this.caretPosition=null)}},{key:"clear",value:function(){this.keyboardDOM.innerHTML="",this.keyboardDOM.className=this.keyboardDOMClass,this.buttonElements={}}},{key:"dispatch",value:function(t){if(!window.SimpleKeyboardInstances)throw console.warn("SimpleKeyboardInstances is not defined. Dispatch cannot be called."),new Error("INSTANCES_VAR_ERROR");return Object.keys(window.SimpleKeyboardInstances).forEach((function(e){t(window.SimpleKeyboardInstances[e],e)}))}},{key:"addButtonTheme",value:function(t,e){var n=this;if(!e||!t)return!1;t.split(" ").forEach((function(i){e.split(" ").forEach((function(e){n.options.buttonTheme||(n.options.buttonTheme=[]);var s=!1;n.options.buttonTheme.map((function(t){if(t.class.split(" ").includes(e)){s=!0;var n=t.buttons.split(" ");n.includes(i)||(s=!0,n.push(i),t.buttons=n.join(" "))}return t})),s||n.options.buttonTheme.push({class:e,buttons:t})}))})),this.render()}},{key:"removeButtonTheme",value:function(t,e){var n=this;if(!t&&!e)return this.options.buttonTheme=[],this.render(),!1;t&&Array.isArray(this.options.buttonTheme)&&this.options.buttonTheme.length&&(t.split(" ").forEach((function(t){n.options.buttonTheme.map((function(i,s){if(e&&e.includes(i.class)||!e){var o=i.buttons.split(" ").filter((function(e){return e!==t}));o.length?i.buttons=o.join(" "):(n.options.buttonTheme.splice(s,1),i=null)}return i}))})),this.render())}},{key:"getButtonElement",value:function(t){var e,n=this.buttonElements[t];return n&&(e=n.length>1?n:n[0]),e}},{key:"inputPatternIsValid",value:function(t){var e,n=this.options.inputPattern;if((e=n instanceof RegExp?n:n[this.options.inputName])&&t){var i=e.test(t);return this.options.debug&&console.log('inputPattern ("'.concat(e,'"): ').concat(i?"passed":"did not pass!")),i}return!0}},{key:"setEventListeners",value:function(){!this.isFirstKeyboardInstance&&this.allKeyboardInstances||(this.options.debug&&console.log("Caret handling started (".concat(this.keyboardDOMClass,")")),document.addEventListener("keyup",this.handleKeyUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("touchend",this.handleTouchEnd))}},{key:"handleKeyUp",value:function(t){this.caretEventHandler(t),this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyUp(t)}},{key:"handleKeyDown",value:function(t){this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyDown(t)}},{key:"handleMouseUp",value:function(t){this.caretEventHandler(t)}},{key:"handleTouchEnd",value:function(t){this.caretEventHandler(t)}},{key:"caretEventHandler",value:function(t){var e;t.target.tagName&&(e=t.target.tagName.toLowerCase()),this.dispatch((function(n){n.isMouseHold&&(n.isMouseHold=!1),"textarea"!==e&&"input"!==e||n.options.disableCaretPositioning?n.options.disableCaretPositioning&&(n.caretPosition=null):(n.caretPosition=t.target.selectionStart,n.options.debug&&console.log("Caret at: ",t.target.selectionStart,t.target.tagName.toLowerCase(),"(".concat(n.keyboardDOMClass,")")))}))}},{key:"recurseButtons",value:function(t){var e=this;if(!t)return!1;Object.keys(this.buttonElements).forEach((function(n){return e.buttonElements[n].forEach(t)}))}},{key:"destroy",value:function(){this.options.debug&&console.log("Destroying simple-keyboard instance: ".concat(this.currentInstanceName)),document.removeEventListener("keyup",this.handleKeyUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("touchend",this.handleTouchEnd),document.onpointerup=null,document.ontouchend=null,document.ontouchcancel=null,document.onmouseup=null;var t=function(t){t.onpointerdown=null,t.onpointerup=null,t.onpointercancel=null,t.ontouchstart=null,t.ontouchend=null,t.ontouchcancel=null,t.onclick=null,t.onmousedown=null,t.onmouseup=null,t.remove(),t=null};this.recurseButtons(t),this.recurseButtons=null,t=null,this.keyboardDOM.onpointerdown=null,this.keyboardDOM.ontouchstart=null,this.keyboardDOM.onmousedown=null,this.clear(),window.SimpleKeyboardInstances[this.currentInstanceName]=null,delete window.SimpleKeyboardInstances[this.currentInstanceName],this.initialized=!1}},{key:"getButtonThemeClasses",value:function(t){var e=this.options.buttonTheme,n=[];return Array.isArray(e)&&e.forEach((function(e){if(e.class&&"string"===typeof e.class&&e.buttons&&"string"===typeof e.buttons){var i=e.class.split(" ");e.buttons.split(" ").includes(t)&&(n=[].concat(c(n),c(i)))}else console.warn('Incorrect "buttonTheme". Please check the documentation.',e)})),n}},{key:"setDOMButtonAttributes",value:function(t,e){var n=this.options.buttonAttributes;Array.isArray(n)&&n.forEach((function(n){n.attribute&&"string"===typeof n.attribute&&n.value&&"string"===typeof n.value&&n.buttons&&"string"===typeof n.buttons?n.buttons.split(" ").includes(t)&&e(n.attribute,n.value):console.warn('Incorrect "buttonAttributes". Please check the documentation.',n)}))}},{key:"onTouchDeviceDetected",value:function(){this.processAutoTouchEvents(),this.disableContextualWindow()}},{key:"disableContextualWindow",value:function(){window.oncontextmenu=function(t){if(t.target.classList.contains("hg-button"))return t.preventDefault(),t.stopPropagation(),!1}}},{key:"processAutoTouchEvents",value:function(){this.options.autoUseTouchEvents&&(this.options.useTouchEvents=!0,this.options.debug&&console.log("autoUseTouchEvents: Touch device detected, useTouchEvents enabled."))}},{key:"onInit",value:function(){this.options.debug&&console.log("".concat(this.keyboardDOMClass," Initialized")),this.setEventListeners(),"function"===typeof this.options.onInit&&this.options.onInit()}},{key:"beforeFirstRender",value:function(){this.utilities.isTouchDevice()&&this.onTouchDeviceDetected(),"function"===typeof this.options.beforeFirstRender&&this.options.beforeFirstRender(),this.isFirstKeyboardInstance&&this.utilities.pointerEventsSupported()&&!this.options.useTouchEvents&&!this.options.useMouseEvents&&this.options.debug&&console.log("Using PointerEvents as it is supported by this browser"),this.options.useTouchEvents&&this.options.debug&&console.log("useTouchEvents has been enabled. Only touch events will be used.")}},{key:"beforeRender",value:function(){"function"===typeof this.options.beforeRender&&this.options.beforeRender()}},{key:"onRender",value:function(){"function"===typeof this.options.onRender&&this.options.onRender()}},{key:"onModulesLoaded",value:function(){"function"===typeof this.options.onModulesLoaded&&this.options.onModulesLoaded()}},{key:"loadModules",value:function(){var t=this;Array.isArray(this.options.modules)&&(this.options.modules.forEach((function(e){var n=new e;if(n.constructor.name&&"Function"!==n.constructor.name){var i="module-".concat(t.utilities.camelCase(n.constructor.name));t.keyboardPluginClasses=t.keyboardPluginClasses+" ".concat(i)}n.init(t)})),this.keyboardPluginClasses=this.keyboardPluginClasses+" modules-loaded",this.render(),this.onModulesLoaded())}},{key:"getModuleProp",value:function(t,e){return!!this.modules[t]&&this.modules[t][e]}},{key:"getModulesList",value:function(){return Object.keys(this.modules)}},{key:"parseRowDOMContainers",value:function(t,e,n,i){var s=this,o=Array.from(t.children),r=0;return o.length&&n.forEach((function(n,a){var u=i[a];if(!u||!(u>n))return!1;var l=n-r,c=u-r,h=document.createElement("div");h.className+="hg-button-container";var d="".concat(s.options.layoutName,"-r").concat(e,"c").concat(a);h.setAttribute("data-skUID",d);var p=o.splice(l,c-l+1);r=c-l,p.forEach((function(t){return h.appendChild(t)})),o.splice(l,0,h),t.innerHTML="",o.forEach((function(e){return t.appendChild(e)})),s.options.debug&&console.log("rowDOMContainer",p,l,c,r+1)})),t}},{key:"render",value:function(){var t=this;this.clear(),this.initialized||this.beforeFirstRender(),this.beforeRender();var e="hg-layout-".concat(this.options.layoutName),n=this.options.layout||{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","{lock} a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}",".com @ {space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}",".com @ {space}"]},i=this.options.useTouchEvents||!1,s=i?"hg-touch-events":"",o=this.options.useMouseEvents||!1,r=this.options.disableRowButtonContainers;this.keyboardDOM.className=this.getKeyboardClassString(this.options.theme,e,this.keyboardPluginClasses,s),n[this.options.layoutName].forEach((function(e,n){var s=e.split(" "),a=document.createElement("div");a.className+="hg-row";var u=[],l=[];s.forEach((function(e,s){var h,d=!r&&"string"===typeof e&&e.length>1&&0===e.indexOf("["),p=!r&&"string"===typeof e&&e.length>1&&e.indexOf("]")===e.length-1;d&&(u.push(s),e=e.replace(/\[/g,"")),p&&(l.push(s),e=e.replace(/\]/g,""));var f=t.utilities.getButtonClass(e),m=t.utilities.getButtonDisplayName(e,t.options.display,t.options.mergeDisplay),g=t.options.useButtonTag?"button":"div",v=document.createElement(g);v.className+="hg-button ".concat(f),(h=v.classList).add.apply(h,c(t.getButtonThemeClasses(e))),t.setDOMButtonAttributes(e,(function(t,e){v.setAttribute(t,e)})),t.activeButtonClass="hg-activeButton",!t.utilities.pointerEventsSupported()||i||o?i?(v.ontouchstart=function(n){t.handleButtonClicked(e),t.handleButtonMouseDown(e,n)},v.ontouchend=function(){t.handleButtonMouseUp(e)},v.ontouchcancel=function(){t.handleButtonMouseUp(e)}):(v.onclick=function(){t.isMouseHold=!1,t.handleButtonClicked(e)},v.onmousedown=function(n){t.handleButtonMouseDown(e,n)},v.onmouseup=function(){t.handleButtonMouseUp(e)}):(v.onpointerdown=function(n){t.handleButtonClicked(e),t.handleButtonMouseDown(e,n)},v.onpointerup=function(){t.handleButtonMouseUp(e)},v.onpointercancel=function(){t.handleButtonMouseUp(e)}),v.setAttribute("data-skBtn",e);var b="".concat(t.options.layoutName,"-r").concat(n,"b").concat(s);v.setAttribute("data-skBtnUID",b);var y=document.createElement("span");y.innerHTML=m,v.appendChild(y),t.buttonElements[e]||(t.buttonElements[e]=[]),t.buttonElements[e].push(v),a.appendChild(v)})),a=t.parseRowDOMContainers(a,n,u,l),t.keyboardDOM.appendChild(a)})),this.onRender(),this.initialized||(this.initialized=!0,!this.utilities.pointerEventsSupported()||i||o?i?(document.ontouchend=function(){return t.handleButtonMouseUp()},document.ontouchcancel=function(){return t.handleButtonMouseUp()},this.keyboardDOM.ontouchstart=function(e){return t.handleKeyboardContainerMouseDown(e)}):i||(document.onmouseup=function(){return t.handleButtonMouseUp()},this.keyboardDOM.onmousedown=function(e){return t.handleKeyboardContainerMouseDown(e)}):(document.onpointerup=function(){return t.handleButtonMouseUp()},this.keyboardDOM.onpointerdown=function(e){return t.handleKeyboardContainerMouseDown(e)}),this.onInit())}}])&&p(e.prototype,n),i&&p(e,i),t}();e.default=m}])}))},e7e5:function(t,e,n){"use strict";var i=n("66cd"),s=n.n(i);s.a}}]);
//# sourceMappingURL=chunk-55381c76.3460caad.js.map